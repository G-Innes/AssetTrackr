import{d as h,u as V,f as L,r as c,R as N,_ as U,a as b,b as s,p as i,w as a,F as R,o as w,l as n,C as S,A as d,B as u,t as B}from"./index-BP0T5Ej7.js";import{P as C}from"./PageForm-Cl5PhDtO.js";const M=h({__name:"SignupView",setup(F,{expose:e}){e();const l=V(),r=L(),m=c({email:"",userName:"",password:"",confirmPassword:""}),f=c(!1),o=c("");async function P(){var k,v;try{const{email:t,userName:y,password:g,confirmPassword:p}=m.value;if(!t||!y||!g||!p){o.value="Username, email, and password & confirmation are required";return}if(g!==p){o.value="Passwords do not match";return}const _=await r.signup({email:t,userName:y,password:g,confirmPassword:p});_.success?(o.value="",f.value=!0,setTimeout(()=>{l.push({name:"Login"})},2e3)):o.value=_.message||"Signup failed"}catch(t){o.value=((v=(k=t.response)==null?void 0:k.data)==null?void 0:v.message)||t.message||"Unknown error"}}const x={router:l,userStore:r,userForm:m,hasSucceeded:f,errorMessage:o,submitSignup:P,get RouterLink(){return N},PageForm:C};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}}),q={class:"fixed top-0 z-10 w-full backdrop-blur-sm"},T={class:"glass-card border-b border-white/10 px-6 py-4"},E={class:"mx-auto flex items-center justify-between"},A={class:"mb-4"},D={class:"mb-4"},j={class:"mb-4"},z={class:"mb-4"},G={key:0,class:"mb-4 rounded-lg bg-success-600/20 p-4 text-white","data-testid":"successMessage"},I={key:1,class:"mb-4 rounded-lg bg-danger-600/20 p-4 text-white","data-testid":"errorMessage"},O={class:"mt-4 text-center text-sm text-dark-300"};function Y(F,e,l,r,m,f){return w(),b(R,null,[s("header",q,[s("div",T,[s("div",E,[i(r.RouterLink,{to:"/",class:"text-xl font-bold text-white"},{default:a(()=>e[4]||(e[4]=[n(" AssetTrackr ")])),_:1})])])]),i(r.PageForm,{heading:"Sign up for an account",formLabel:"Signup",onSubmit:r.submitSignup},{default:a(()=>[s("div",A,[e[5]||(e[5]=s("label",{for:"email",class:"mb-2 block text-sm font-medium text-dark-200"},"Email",-1)),d(s("input",{id:"email",type:"email","onUpdate:modelValue":e[0]||(e[0]=o=>r.userForm.email=o),required:"",class:"w-full rounded-lg border border-white/10 bg-transparent p-2.5 text-white focus:border-dark-900 focus:outline-none focus:ring-2 focus:ring-dark-900/60"},null,512),[[u,r.userForm.email]])]),s("div",D,[e[6]||(e[6]=s("label",{for:"userName",class:"mb-2 block text-sm font-medium text-dark-200"},"Username",-1)),d(s("input",{id:"userName",type:"text","onUpdate:modelValue":e[1]||(e[1]=o=>r.userForm.userName=o),required:"",class:"w-full rounded-lg border border-white/10 bg-transparent p-2.5 text-white focus:border-dark-900 focus:outline-none focus:ring-2 focus:ring-dark-900/60"},null,512),[[u,r.userForm.userName]])]),s("div",j,[e[7]||(e[7]=s("label",{for:"password",class:"mb-2 block text-sm font-medium text-dark-200"},"Password",-1)),d(s("input",{id:"password",type:"password","onUpdate:modelValue":e[2]||(e[2]=o=>r.userForm.password=o),required:"",class:"w-full rounded-lg border border-white/10 bg-transparent p-2.5 text-white focus:border-dark-900 focus:outline-none focus:ring-2 focus:ring-dark-900/60"},null,512),[[u,r.userForm.password]])]),s("div",z,[e[8]||(e[8]=s("label",{for:"confirmPassword",class:"mb-2 block text-sm font-medium text-dark-200"},"Confirm Password",-1)),d(s("input",{id:"confirmPassword",type:"password","onUpdate:modelValue":e[3]||(e[3]=o=>r.userForm.confirmPassword=o),required:"",class:"w-full rounded-lg border border-white/10 bg-transparent p-2.5 text-white focus:border-dark-900 focus:outline-none focus:ring-2 focus:ring-dark-900/60"},null,512),[[u,r.userForm.confirmPassword]])]),r.hasSucceeded?(w(),b("div",G,[e[10]||(e[10]=n(" You have successfully signed up! ")),i(r.RouterLink,{to:{name:"Login"},class:"font-semibold text-white underline"},{default:a(()=>e[9]||(e[9]=[n("Go to the login page")])),_:1})])):S("",!0),r.errorMessage?(w(),b("div",I,B(r.errorMessage),1)):S("",!0),e[11]||(e[11]=s("div",{class:"grid"},[s("button",{type:"submit",class:"shadow-glow-primary rounded-lg bg-primary-600 px-5 py-3 text-white transition hover:bg-primary-500"}," Sign up ")],-1))]),footer:a(()=>[s("div",O,[e[13]||(e[13]=n(" Already a member? ")),i(r.RouterLink,{to:{name:"Login"},class:"font-semibold text-primary-400 hover:text-primary-300"},{default:a(()=>e[12]||(e[12]=[n("Log in")])),_:1})])]),_:1})],64)}const K=U(M,[["render",Y],["__scopeId","data-v-c2d9fb1c"],["__file","/Users/grantinnes/Dev-Stuff/Turing-College/module-3-BE/capstone/ginnes-BE.3.5/client/src/views/SignupView.vue"]]);export{K as default};
