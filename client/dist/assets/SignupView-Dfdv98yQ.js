import{d as P,u as L,G as V,r as w,R as N,_ as U,a as c,b as r,m as d,w as a,F as R,o as x,k as n,B as _,z as l,A as u,t as B}from"./index-BJjcXYf6.js";import{P as M}from"./PageForm-CAgivrjK.js";const T=P({__name:"SignupView",setup(h,{expose:e}){e();const i=L(),s=V(),m=w({email:"",userName:"",password:"",confirmPassword:""}),p=w(!1),t=w("");async function F(){var k,y;try{const{email:o,userName:S,password:f,confirmPassword:g}=m.value;if(!o||!S||!f||!g){t.value="Username, email, and password & confirmation are required";return}if(f!==g){t.value="Passwords do not match";return}const b=await s.signup({email:o,userName:S,password:f,confirmPassword:g});b.success?(t.value="",p.value=!0,b.autoLoggedIn?setTimeout(()=>{i.push({name:"Dashboard"})},1e3):setTimeout(()=>{i.push({name:"Login"})},2e3)):t.value=b.message||"Signup failed"}catch(o){t.value=((y=(k=o.response)==null?void 0:k.data)==null?void 0:y.message)||o.message||"Unknown error"}}const v={router:i,userStore:s,userForm:m,hasSucceeded:p,errorMessage:t,submitSignup:F,get RouterLink(){return N},PageForm:M};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),q={class:"fixed top-0 z-10 w-full backdrop-blur-sm"},C={class:"glass-card border-b border-white/10 px-6 py-4"},D={class:"mx-auto flex items-center justify-between"},E={class:"mb-4"},A={class:"mb-4"},j={class:"mb-4"},z={class:"mb-4"},G={key:0,class:"mb-4 rounded-lg bg-success-600/20 p-4 text-white","data-testid":"successMessage"},I={key:1,class:"mb-4 rounded-lg bg-danger-600/20 p-4 text-white","data-testid":"errorMessage"},O={class:"mt-4 text-center text-sm text-dark-300"};function Y(h,e,i,s,m,p){return x(),c(R,null,[r("header",q,[r("div",C,[r("div",D,[d(s.RouterLink,{to:"/",class:"text-xl font-bold text-white"},{default:a(()=>e[4]||(e[4]=[n(" AssetTrackr ")])),_:1})])])]),d(s.PageForm,{heading:"Sign up for an account",formLabel:"Signup",onSubmit:s.submitSignup},{default:a(()=>[r("div",E,[e[5]||(e[5]=r("label",{for:"email",class:"mb-2 block text-sm font-medium text-dark-200"},"Email",-1)),l(r("input",{id:"email",type:"email","onUpdate:modelValue":e[0]||(e[0]=t=>s.userForm.email=t),required:"",class:"w-full rounded-lg border border-white/10 bg-transparent p-2.5 text-white"},null,512),[[u,s.userForm.email]])]),r("div",A,[e[6]||(e[6]=r("label",{for:"userName",class:"mb-2 block text-sm font-medium text-dark-200"},"Username",-1)),l(r("input",{id:"userName",type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>s.userForm.userName=t),required:"",class:"w-full rounded-lg border border-white/10 bg-transparent p-2.5 text-white"},null,512),[[u,s.userForm.userName]])]),r("div",j,[e[7]||(e[7]=r("label",{for:"password",class:"mb-2 block text-sm font-medium text-dark-200"},"Password",-1)),l(r("input",{id:"password",type:"password","onUpdate:modelValue":e[2]||(e[2]=t=>s.userForm.password=t),required:"",class:"w-full rounded-lg border border-white/10 bg-transparent p-2.5 text-white"},null,512),[[u,s.userForm.password]])]),r("div",z,[e[8]||(e[8]=r("label",{for:"confirmPassword",class:"mb-2 block text-sm font-medium text-dark-200"},"Confirm Password",-1)),l(r("input",{id:"confirmPassword",type:"password","onUpdate:modelValue":e[3]||(e[3]=t=>s.userForm.confirmPassword=t),required:"",class:"w-full rounded-lg border border-white/10 bg-transparent p-2.5 text-white"},null,512),[[u,s.userForm.confirmPassword]])]),s.hasSucceeded?(x(),c("div",G,[e[10]||(e[10]=n(" You have successfully signed up! ")),d(s.RouterLink,{to:{name:"Login"},class:"font-semibold text-white underline"},{default:a(()=>e[9]||(e[9]=[n("Go to the login page")])),_:1})])):_("",!0),s.errorMessage?(x(),c("div",I,B(s.errorMessage),1)):_("",!0),e[11]||(e[11]=r("div",{class:"grid"},[r("button",{type:"submit",class:"shadow-glow-primary rounded-lg bg-primary-600 px-5 py-3 text-white transition hover:bg-primary-500"}," Sign up ")],-1))]),footer:a(()=>[r("div",O,[e[13]||(e[13]=n(" Already a member? ")),d(s.RouterLink,{to:{name:"Login"},class:"font-semibold text-primary-400 hover:text-primary-300"},{default:a(()=>e[12]||(e[12]=[n("Log in")])),_:1})])]),_:1})],64)}const K=U(T,[["render",Y],["__file","/Users/grantinnes/Dev-Stuff/Turing-College/module-3-BE/capstone/ginnes-BE.3.5/client/src/views/SignupView.vue"]]);export{K as default};
